/*
 *  JavaScript Background Blend Mode - v0.1
 *  A JavaScript based polyfill for browsers that don’t support CSS background-blend-mode
 *
 *  https://github.com/juanbrujo/js-background-blend-mode
 *
 *  By: Jorge Epuñan |  @csslab
 *  License: MIT
 */
!function(a){var b=function(b){return"undefined"==typeof a[b]?("undefined"!=typeof console&&console.log("Warning: canvas context not supported ("+b+" needed)"),!1):!0};if(b("HTMLCanvasElement")){document.addEventListener("DOMContentLoaded",function(){var b=a.getComputedStyle(document.body).backgroundBlendMode;"undefined"==typeof b&&c()},!1);var c=function(){for(var a=document.querySelectorAll("[data-blend]"),b=0;b<a.length;b++){var c=a[b],e=c.getAttribute("data-blend"),f=c.getAttribute("data-blend-image"),g=c.getAttribute("data-blend-color");d(c,e,f,g)}},d=function(a,b,c,d){var f=c,g=d;e(f,g,b,function(b){a.style.backgroundImage="url("+b+")"})},e=function(a,b,c,d){var e=document.createElement("img");e.src=a,e.onload=function(){var a=document.createElement("canvas");a.width=this.naturalWidth,a.height=this.naturalHeight;var e=a.getContext("2d");e.globalCompositeOperation=c,e.drawImage(this,0,0),e.fillStyle=b,e.fillRect(0,0,a.width,a.height);var f=a.toDataURL("image/jpeg");d(f)}}}}(window);